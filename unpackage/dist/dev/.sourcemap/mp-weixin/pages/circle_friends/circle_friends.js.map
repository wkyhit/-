{"version":3,"sources":["webpack:///D:/wechatapp/develop/animal_crossing/main.js","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue?0bbc","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue?f0f3","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue?955b","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue?5a4b","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue?eb12","webpack:///D:/wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue?35fd"],"names":["createPage","Page","data","list","name","current_tab","keyword","trends","trendPageNum","trendsCount","trends_pic","new_trend","action","head","post_trends_form","title","content","post_pic","computed","trendPicture","tmp_trend_pic","trend_pic","Array","len","length","i","pic_array","split","trend_id","id","methods","onPullDownRefresh","setTimeout","getTrends","uni","stopPullDownRefresh","changeTab","index","toPastport","userInfo","info","navigateTo","url","encodeURIComponent","JSON","stringify","clickLike","console","log","clickComment","trendsInfo","clickShare","jwt","getStorageSync","$myRequest","method","header","result","count","results","getRemainTrends","titleChange","e","detail","value","contentChange","clickToPreviewImage","list_id","img_index","imgArr","previewImage","urls","current","uploadChange","res","onUploaded","lists","tmp_post_pic","filesArr","reg","array","parse","response","str","file","replace","submitTrends","$refs","uUpload","clear","showToast","icon","startPullDownRefresh","onLoad","headers","onShow"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wH;AACAA,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACc;;;AAG3E;AACyL;AACzL,gBAAgB,gMAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,+NAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL,GAAG;AACH;AACA,WAAW,+NAEN;AACL,GAAG;AACH;AACA,WAAW,2OAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAytB,CAAgB,utBAAG,EAAC,C;;;;;;;;;;;;+lECA7uB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdC,MADc,kBACP;AACN,WAAO;AACN;AACAC,UAAI,EAAE,CAAC;AACNC,YAAI,EAAE,MADA,EAAD;AAEH;AAC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","file":"pages/circle_friends/circle_friends.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/circle_friends/circle_friends.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./circle_friends.vue?vue&type=template&id=3b4bfd14&\"\nvar renderjs\nimport script from \"./circle_friends.vue?vue&type=script&lang=js&\"\nexport * from \"./circle_friends.vue?vue&type=script&lang=js&\"\nimport style0 from \"./circle_friends.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"wechatapp/develop/animal_crossing/pages/circle_friends/circle_friends.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circle_friends.vue?vue&type=template&id=3b4bfd14&\"","var components = {\n  uTabs: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-tabs/u-tabs\" */ \"uview-ui/components/u-tabs/u-tabs.vue\"\n    )\n  },\n  uSearch: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-search/u-search\" */ \"uview-ui/components/u-search/u-search.vue\"\n    )\n  },\n  uAvatar: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-avatar/u-avatar\" */ \"uview-ui/components/u-avatar/u-avatar.vue\"\n    )\n  },\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n    )\n  },\n  uUpload: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-upload/u-upload\" */ \"uview-ui/components/u-upload/u-upload.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circle_friends.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circle_friends.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\t//上方tabs list\n\t\t\tlist: [{\n\t\t\t\tname: \"动态广场\"\n\t\t\t}, {\n\t\t\t\tname: \"发布动态\"\n\t\t\t}],\n\t\t\t//当前tab\n\t\t\tcurrent_tab: 0,\n\t\t\t//搜索keyword\n\t\t\tkeyword: \"\",\n\t\t\t// 获取的动态\n\t\t\ttrends:[],\n\t\t\t// 动态的页数\n\t\t\ttrendPageNum:1,\n\t\t\t// 动态总个数\n\t\t\ttrendsCount:1,\n\t\t\t//动态的图片 数组\n\t\t\ttrends_pic:[],\n\t\t\t//发布动态的内容\n\t\t\tnew_trend:\"\",\n\t\t\t// 图片上传地址\n\t\t\taction:\"http://47.240.8.112/api/v1/private/upload/\",\n\t\t\t// 图片数组（上传）\n\t\t\t// filesArr: [],\n\t\t\t// 请求头部（上传图片）\n\t\t\thead:{},\n\t\t\t//提交动态的表单\n\t\t\tpost_trends_form:{\n\t\t\t\ttitle:\"\",\n\t\t\t\tcontent:\"\",\n\t\t\t\tpost_pic:\"\",\n\t\t\t},\n\t\t};\n\t},\n\tcomputed:{\n\t\t//动态图片的数组\n\t\ttrendPicture(){\n\t\t\tlet tmp_trend_pic = {} //用来保存每个trend多个pic的字典，用trend的id做key索引\n\t\t\tlet trend_pic=new Array() //用来存每个trends多各pic的二维数组\n\t\t\tlet len = this.trends.length//动态帖子的数量\n\t\t\tfor(let i=0; i<len; i++){\n\t\t\t\t//用 ; 对图片字符串进行分割\n\t\t\t\tlet pic_array = new Array()\n\t\t\t\tpic_array = this.trends[i].post_pic.split(\";\")\n\t\t\t\tlet trend_id = this.trends[i].id //获取当前trend的id\n\t\t\t\ttmp_trend_pic[trend_id] = pic_array //以trend_id为key保存对应的图片url数组\n\t\t\n\t\t\t\t// trend_pic[i] = new Array() //声明二维数组\n\t\t\t\t// for(let j=0,len1=pic_array.length; j<len1; j++){\n\t\t\t\t\t// console.log(pic_array[j])\n\t\t\t\t\t// trend_pic[i][j] = pic_array[j];\n\t\t\t\t// }\n\t\t\t}\n\t\t\treturn tmp_trend_pic;\n\t\t},\n\t},\n\tmethods: {\n\t\t// 监听下拉刷新\n\t\tonPullDownRefresh(){\n\t\t\tthis.trends = []\n\t\t\tthis.trendPageNum = 1\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.getTrends()\n\t\t\t\tuni.stopPullDownRefresh() //停止下拉刷新\n\t\t\t},1000)\n\t\t},\n\t\t//监听tabs change\n\t\tchangeTab(index) {\n\t\t\tthis.current_tab = index;\n\t\t},\n\t\t// 点击头像,跳转到该用户个人护照页\n\t\t// 接受用户护照基本信息\n\t\ttoPastport(userInfo){\n\t\t\t// console.log(userInfo);\n\t\t\tconst info = userInfo\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'/pages/mysite/mysite?userinfo='+ encodeURIComponent(JSON.stringify(this.info))\n\t\t\t});\n\t\t},\n\t\tclickLike(){\n\t\t\tconsole.log(\"click like\")\n\t\t},\n\t\t// 监听评论按钮点击事件\n\t\tclickComment(trends){\n\t\t\tconst trendsInfo = trends\n\t\t\tuni.navigateTo({\n\t\t\t\turl:\"comments/comments?trendsInfo=\"+ encodeURIComponent(JSON.stringify(trendsInfo))+\"&trendpic=\"+encodeURIComponent(JSON.stringify(this.trendPicture[trendsInfo.id]))\n\t\t\t})\n\t\t},\n\t\tclickShare(){\n\t\t\t\n\t\t},\n\t\t//获取动态\n\t\tasync getTrends(){\n\t\t\tconst jwt = uni.getStorageSync(\"skey\");\n\t\t\t// console.log(\"jwt: \"+jwt);\n\t\t\tconst head = {'Authorization':\"Bearer \"+jwt};\n\t\t\t// console.log(\"header: \"+head.Authorization);\n\t\t\tconst result = await this.$myRequest({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: '/posts/?pagenum=' + this.trendPageNum,\n\t\t\t\theader: head,\n\t\t\t})\n\t\t\t// 获取动态总个数\n\t\t\tthis.trendsCount = result.data.count;\n\t\t\tthis.trends = [...this.trends, ...result.data.results]\n\t\t\t// console.log(this.trends)\n\t\t},\n\t\t// 获取剩余动态 pagenum>1,每页10条\n\t\tgetRemainTrends(){\n\t\t\tif(this.trendPageNum <= this.trendsCount/10 ){\n\t\t\t\tthis.trendPageNum++;\n\t\t\t\tthis.getTrends();\n\t\t\t}\n\t\t},\n\t\t// 监听title input change 事件\n\t\ttitleChange(e){\n\t\t\tthis.post_trends_form.title = e.detail.value\n\t\t},\n\t\t// 监听content input change 事件\n\t\tcontentChange(e){\n\t\t\tthis.post_trends_form.content = e.detail.value\n\t\t},\n\t\t// 图片预览事件\n\t\tclickToPreviewImage(list_id,img_index){\n\t\t\t// let imgArr = imageList\n\t\t\tlet imgArr = this.trendPicture[list_id]\n\t\t\t// console.log(this.trendPicture[list_id])\n\t\t\tuni.previewImage({\n\t\t\t\turls:imgArr,\n\t\t\t\tcurrent:img_index\n\t\t\t})\n\t\t\t\n\t\t},\n\t\t//图片上传事件\n\t\tuploadChange(res){\n\t\t\t// console.log(res)\n\t\t},\n\t\t//图片上传成功事件，lists为全部图片的数组集合\n\t\tonUploaded(lists){\n\t\t\tlet tmp_post_pic = \"\"\n\t\t\tconst filesArr = lists;\n\t\t\tconst reg = /http:\\/\\/47\\.240\\.8\\.112\\/media\\//;\n\t\t\tfor(let i=0,len = lists.length; i < len; i++){\n\t\t\t\tlet array = JSON.parse(filesArr[i].response)\n\t\t\t\tlet str = array.file\n\t\t\t\tstr = str.replace(reg,\"\")\n\t\t\t\tif (i === lists.length-1){\n\t\t\t\t\ttmp_post_pic += str\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttmp_post_pic += str + \";\"\n\t\t\t}\n\t\t\t//将临时图片url赋予表单的pic\n\t\t\tthis.post_trends_form.post_pic = tmp_post_pic\n\t\t\tconsole.log(tmp_post_pic);\n\t\t},\n\t\t//提交动态\n\t\tasync submitTrends(){\n\t\t\tconst jwt = uni.getStorageSync(\"skey\");\n\t\t\tconst head = {'Authorization':\"Bearer \"+jwt};\n\t\t\tconst result = await this.$myRequest({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: '/posts/',\n\t\t\t\theader: head,\n\t\t\t\tdata: {\n\t\t\t\t\ttitle:this.post_trends_form.title,\n\t\t\t\t\tcontent:this.post_trends_form.content,\n\t\t\t\t\tpost_pic:this.post_trends_form.post_pic,\n\t\t\t\t},\n\t\t\t})\n\t\t\t//重置表单\n\t\t\tthis.post_trends_form.title = \"\"\n\t\t\tthis.post_trends_form.content = \"\"\n\t\t\tthis.$refs.uUpload.clear()\n\t\t\tuni.showToast({\n\t\t\t\ttitle:\"动态发布成功\",\n\t\t\t\ticon: \"success\"\n\t\t\t})\n\t\t\t// console.log(result)\n\t\t\tthis.changeTab(0) //跳转回动态广场\n\t\t\t// 触发下拉刷新\n\t\t\tuni.startPullDownRefresh()\n\t\t},\n\t},\n\tonLoad() {\n\t\tconst jwt = uni.getStorageSync(\"skey\");\n\t\tconst headers = {'Authorization':\"Bearer \"+jwt};\n\t\tthis.head = headers;\n\t\tuni.startPullDownRefresh()\n\t\t// console.log(\"onload friends\")\n\t},\n\tonShow(){\n\t\t// uni.startPullDownRefresh()\n\t}\n}\n","import mod from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circle_friends.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./circle_friends.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591854866901\n      var cssReload = require(\"D:/software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}